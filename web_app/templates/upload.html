
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>加密恶意流量检测系统</title>
    <!--图标显示-->
    <link rel="icon" href="../static/imgs/icon.svg" type="image/x-icon" />
    <link rel="shortcut icon" href="../static/imgs/icon.svg" type="image/x-icon" />
    <!--注意下面的引入顺序不要改变-->
    <!--上面是国外源，下面是国内源-->
    <!-- 引入 Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!--<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css">-->
    <!-- 引入 jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
    <!-- 引入 Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!--<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>-->
    <style>
        .carousel-inner .item img {
            max-height: 400px;  
            width: auto;
            margin: 0 auto; 
        }
    </style>
    <script>
        $(document).ready(function() {
            $('#uploadForm').submit(function(e) {
                e.preventDefault();  // 阻止表单的默认提交行为
                $('#confirmUploadModal').modal('show');  // 显示模态框
            });
        
            $('#confirmUpload').click(function() {
                $('#uploadForm').off('submit').submit();  // 移除提交事件处理器并提交表单
            });
            
        });
    </script>
    <style>
        .alert {
            padding: 20px;
            background-color: #7c9ff0;  
            color: rgb(28, 23, 23);
            opacity: 1;
            transition: opacity 0.6s;
            font-size: 25px;
        }
    </style>
    <script>
        $(document).ready(function() {
            window.setTimeout(function() {
                document.getElementById('alert').style.opacity = '0';
            }, 4000);  // 4秒后自动消失
        });
    </script>

    <body>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div id="alert" class="alert">
                {{ messages[0] }}
            </div>
            {% endif %}
        {% endwith %}
        <div class="container">
            <div class="row clearfix">
                <div class="col-md-12 column">
                    <div class="carousel slide" id="carousel-235440">
                        <ol class="carousel-indicators">
                            <li class="active" data-slide-to="0" data-target="#carousel-235440">
                            </li>
                            <li data-slide-to="1" data-target="#carousel-235440">
                            </li>
                            <li data-slide-to="2" data-target="#carousel-235440">
                            </li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="item">
                                <!--<img alt="" src="{{ url_for('static', filename='imgs/u1.jpg') }}" />-->
                                <img alt="" src="{{ url_for('static', filename='imgs/p5.jpg') }}" />
                                <div class="carousel-caption">
                                </div>
                            </div>
                            <div class="item active">
                                <img alt="" src="{{ url_for('static', filename='imgs/p3.jpg') }}" />
                                <div class="carousel-caption">
                                </div>
                            </div>
                            <div class="item">
                                <img alt="" src="{{ url_for('static', filename='imgs/p6.jpg') }}" />
                                <div class="carousel-caption">
                                </div>
                            </div>
                        </div> <a class="left carousel-control" href="#carousel-235440" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" href="#carousel-235440" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
                    </div>
                    <nav class="navbar navbar-default" role="navigation">
                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav">
                                <li>
                                    <a href="http://127.0.0.1:5000/">主页</a>
                                </li>
                                <li class="active">
                                     
                                     <a href="http://127.0.0.1:5000/upload">上传文件</a>
                                </li>
                                <li>
                                    <a href="http://127.0.0.1:5000/Parse">解析文件</a>
                                </li>
                                <li>
                                    <a href="http://127.0.0.1:5000/files_list">解析结果</a>
                               </li>
                                <li class="dropdown">
                                     <a href="#" class="dropdown-toggle" data-toggle="dropdown">相关细节<strong class="caret"></strong></a>
                                     <ul class="dropdown-menu">
                                        <li>
                                            <a href="http://127.0.0.1:5000/show_data_CTU-13">CTU-13</a>
                                       </li>
                                       <li>
                                            <a href="http://127.0.0.1:5000/show_data_DOH">DOH</a>
                                       </li>
                                        <li class="divider">
                                        </li>
                                        <li>
                                            <a href="https://www.stratosphereips.org/datasets-ctu13/">CTU-13数据源</a>
                                       </li>
                                       <li class="divider">
                                       </li>
                                       <li>
                                            <a href="https://www.unb.ca/cic/datasets/dohbrw-2020.html">DOH数据源</a>
                                       </li>
                                    </ul>
                                </li>
                            </ul>
                            <ul class="nav navbar-nav navbar-right">
                                <li>
                                     <a href="http://127.0.0.1:5000/teacher">教师祝语</a>
                                </li>
                                <li>
                                    <a href="http://127.0.0.1:5000/student">学生祝语</a>
                               </li>
                            </ul>
                        </div>
                        
                    </nav>
                    <div class="jumbotron">
                        <h1>
                            File Upload !
                        </h1>
                        <p>
                            Please upload pcap files!
                        </p>
                        <!-- Modal -->
                        <div class="modal fade" id="confirmUploadModal" tabindex="-1" role="dialog" aria-labelledby="confirmUploadModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="confirmUploadModalLabel">确认上传</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                    </button>
                                    </div>
                                    <div class="modal-body">
                                        是否进行文件上传？
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                                        <button type="button" class="btn btn-primary" id="confirmUpload">确认</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form id="uploadForm" action="http://127.0.0.1:5000/upload" method="post" enctype="multipart/form-data">
                            <input type="file" name="file" />
                            <input id="uploadButton" type="submit" value="上传" />
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </body>
  </head>  
</html>